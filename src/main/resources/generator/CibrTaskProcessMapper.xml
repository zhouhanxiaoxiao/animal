<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cibr.animal.demo.dao.CibrTaskProcessMapper">
    <resultMap id="BaseResultMap" type="com.cibr.animal.demo.entity.CibrTaskProcess">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" property="id" jdbcType="VARCHAR"/>
        <result column="taskid" property="taskid" jdbcType="VARCHAR"/>
        <result column="creater" property="creater" jdbcType="VARCHAR"/>
        <result column="createTime" property="createtime" jdbcType="TIMESTAMP"/>
        <result column="taskstatu" property="taskstatu" jdbcType="VARCHAR"/>
        <result column="projectName" property="projectname" jdbcType="VARCHAR"/>
        <result column="dataType" property="datatype" jdbcType="VARCHAR"/>
        <result column="principal" property="principal" jdbcType="VARCHAR"/>
        <result column="sampleType" property="sampletype" jdbcType="VARCHAR"/>
        <result column="sampleInput" property="sampleinput" jdbcType="VARCHAR"/>
        <result column="inputTime" property="inputtime" jdbcType="TIMESTAMP"/>
        <result column="samplePreparation" property="samplepreparation" jdbcType="VARCHAR"/>
        <result column="spupdateTime" property="spupdatetime" jdbcType="TIMESTAMP"/>
        <result column="libraryPreparation" property="librarypreparation" jdbcType="VARCHAR"/>
        <result column="lpupdateTime" property="lpupdatetime" jdbcType="TIMESTAMP"/>
        <result column="dismountData" property="dismountdata" jdbcType="VARCHAR"/>
        <result column="ddupdateTime" property="ddupdatetime" jdbcType="TIMESTAMP"/>
        <result column="bioinformaticsAnalysis" property="bioinformaticsanalysis" jdbcType="VARCHAR"/>
        <result column="baupdateTime" property="baupdatetime" jdbcType="TIMESTAMP"/>
        <result column="remarks" property="remarks" jdbcType="VARCHAR"/>
        <result column="projectDesc" property="projectdesc" jdbcType="VARCHAR"/>
        <result column="isOnlyBio" property="isonlybio" jdbcType="BIT"/>
    </resultMap>


    <sql id="Example_Where_Clause">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <where>
            <foreach collection="oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" suffix=")" prefixOverrides="and">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach collection="criterion.value" item="listItem" open="(" close=")"
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Update_By_Example_Where_Clause">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <where>
            <foreach collection="example.oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" suffix=")" prefixOverrides="and">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach collection="criterion.value" item="listItem" open="(" close=")"
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        id, taskid, creater, createTime, taskstatu, projectName, dataType, principal, sampleType,
        sampleInput, inputTime, samplePreparation, spupdateTime, libraryPreparation, lpupdateTime,
        dismountData, ddupdateTime, bioinformaticsAnalysis, baupdateTime, remarks, projectDesc,
        isOnlyBio
    </sql>
    <select id="selectByExample" resultMap="BaseResultMap"
            parameterType="com.cibr.animal.demo.entity.CibrTaskProcessExample">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <if test="distinct">
            distinct
        </if>
        <include refid="Base_Column_List"/>
        from cibr_task_process
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from cibr_task_process
        where id = #{id,jdbcType=VARCHAR}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from cibr_task_process
        where id = #{id,jdbcType=VARCHAR}
    </delete>
    <delete id="deleteByExample" parameterType="com.cibr.animal.demo.entity.CibrTaskProcessExample">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from cibr_task_process
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </delete>
    <insert id="insert" parameterType="com.cibr.animal.demo.entity.CibrTaskProcess">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into cibr_task_process (id, taskid, creater,
        createTime, taskstatu, projectName,
        dataType, principal, sampleType,
        sampleInput, inputTime, samplePreparation,
        spupdateTime, libraryPreparation, lpupdateTime,
        dismountData, ddupdateTime, bioinformaticsAnalysis,
        baupdateTime, remarks, projectDesc,
        isOnlyBio)
        values (#{id,jdbcType=VARCHAR}, #{taskid,jdbcType=VARCHAR}, #{creater,jdbcType=VARCHAR},
        #{createtime,jdbcType=TIMESTAMP}, #{taskstatu,jdbcType=VARCHAR}, #{projectname,jdbcType=VARCHAR},
        #{datatype,jdbcType=VARCHAR}, #{principal,jdbcType=VARCHAR}, #{sampletype,jdbcType=VARCHAR},
        #{sampleinput,jdbcType=VARCHAR}, #{inputtime,jdbcType=TIMESTAMP}, #{samplepreparation,jdbcType=VARCHAR},
        #{spupdatetime,jdbcType=TIMESTAMP}, #{librarypreparation,jdbcType=VARCHAR}, #{lpupdatetime,jdbcType=TIMESTAMP},
        #{dismountdata,jdbcType=VARCHAR}, #{ddupdatetime,jdbcType=TIMESTAMP},
        #{bioinformaticsanalysis,jdbcType=VARCHAR},
        #{baupdatetime,jdbcType=TIMESTAMP}, #{remarks,jdbcType=VARCHAR}, #{projectdesc,jdbcType=VARCHAR},
        #{isonlybio,jdbcType=BIT})
    </insert>
    <insert id="insertSelective" parameterType="com.cibr.animal.demo.entity.CibrTaskProcess">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into cibr_task_process
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="taskid != null">
                taskid,
            </if>
            <if test="creater != null">
                creater,
            </if>
            <if test="createtime != null">
                createTime,
            </if>
            <if test="taskstatu != null">
                taskstatu,
            </if>
            <if test="projectname != null">
                projectName,
            </if>
            <if test="datatype != null">
                dataType,
            </if>
            <if test="principal != null">
                principal,
            </if>
            <if test="sampletype != null">
                sampleType,
            </if>
            <if test="sampleinput != null">
                sampleInput,
            </if>
            <if test="inputtime != null">
                inputTime,
            </if>
            <if test="samplepreparation != null">
                samplePreparation,
            </if>
            <if test="spupdatetime != null">
                spupdateTime,
            </if>
            <if test="librarypreparation != null">
                libraryPreparation,
            </if>
            <if test="lpupdatetime != null">
                lpupdateTime,
            </if>
            <if test="dismountdata != null">
                dismountData,
            </if>
            <if test="ddupdatetime != null">
                ddupdateTime,
            </if>
            <if test="bioinformaticsanalysis != null">
                bioinformaticsAnalysis,
            </if>
            <if test="baupdatetime != null">
                baupdateTime,
            </if>
            <if test="remarks != null">
                remarks,
            </if>
            <if test="projectdesc != null">
                projectDesc,
            </if>
            <if test="isonlybio != null">
                isOnlyBio,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=VARCHAR},
            </if>
            <if test="taskid != null">
                #{taskid,jdbcType=VARCHAR},
            </if>
            <if test="creater != null">
                #{creater,jdbcType=VARCHAR},
            </if>
            <if test="createtime != null">
                #{createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="taskstatu != null">
                #{taskstatu,jdbcType=VARCHAR},
            </if>
            <if test="projectname != null">
                #{projectname,jdbcType=VARCHAR},
            </if>
            <if test="datatype != null">
                #{datatype,jdbcType=VARCHAR},
            </if>
            <if test="principal != null">
                #{principal,jdbcType=VARCHAR},
            </if>
            <if test="sampletype != null">
                #{sampletype,jdbcType=VARCHAR},
            </if>
            <if test="sampleinput != null">
                #{sampleinput,jdbcType=VARCHAR},
            </if>
            <if test="inputtime != null">
                #{inputtime,jdbcType=TIMESTAMP},
            </if>
            <if test="samplepreparation != null">
                #{samplepreparation,jdbcType=VARCHAR},
            </if>
            <if test="spupdatetime != null">
                #{spupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="librarypreparation != null">
                #{librarypreparation,jdbcType=VARCHAR},
            </if>
            <if test="lpupdatetime != null">
                #{lpupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="dismountdata != null">
                #{dismountdata,jdbcType=VARCHAR},
            </if>
            <if test="ddupdatetime != null">
                #{ddupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="bioinformaticsanalysis != null">
                #{bioinformaticsanalysis,jdbcType=VARCHAR},
            </if>
            <if test="baupdatetime != null">
                #{baupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="remarks != null">
                #{remarks,jdbcType=VARCHAR},
            </if>
            <if test="projectdesc != null">
                #{projectdesc,jdbcType=VARCHAR},
            </if>
            <if test="isonlybio != null">
                #{isonlybio,jdbcType=BIT},
            </if>
        </trim>
    </insert>
    <select id="countByExample" parameterType="com.cibr.animal.demo.entity.CibrTaskProcessExample"
            resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(*) from cibr_task_process
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </select>
    <update id="updateByExampleSelective" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update cibr_task_process
        <set>
            <if test="record.id != null">
                id = #{record.id,jdbcType=VARCHAR},
            </if>
            <if test="record.taskid != null">
                taskid = #{record.taskid,jdbcType=VARCHAR},
            </if>
            <if test="record.creater != null">
                creater = #{record.creater,jdbcType=VARCHAR},
            </if>
            <if test="record.createtime != null">
                createTime = #{record.createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.taskstatu != null">
                taskstatu = #{record.taskstatu,jdbcType=VARCHAR},
            </if>
            <if test="record.projectname != null">
                projectName = #{record.projectname,jdbcType=VARCHAR},
            </if>
            <if test="record.datatype != null">
                dataType = #{record.datatype,jdbcType=VARCHAR},
            </if>
            <if test="record.principal != null">
                principal = #{record.principal,jdbcType=VARCHAR},
            </if>
            <if test="record.sampletype != null">
                sampleType = #{record.sampletype,jdbcType=VARCHAR},
            </if>
            <if test="record.sampleinput != null">
                sampleInput = #{record.sampleinput,jdbcType=VARCHAR},
            </if>
            <if test="record.inputtime != null">
                inputTime = #{record.inputtime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.samplepreparation != null">
                samplePreparation = #{record.samplepreparation,jdbcType=VARCHAR},
            </if>
            <if test="record.spupdatetime != null">
                spupdateTime = #{record.spupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.librarypreparation != null">
                libraryPreparation = #{record.librarypreparation,jdbcType=VARCHAR},
            </if>
            <if test="record.lpupdatetime != null">
                lpupdateTime = #{record.lpupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.dismountdata != null">
                dismountData = #{record.dismountdata,jdbcType=VARCHAR},
            </if>
            <if test="record.ddupdatetime != null">
                ddupdateTime = #{record.ddupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.bioinformaticsanalysis != null">
                bioinformaticsAnalysis = #{record.bioinformaticsanalysis,jdbcType=VARCHAR},
            </if>
            <if test="record.baupdatetime != null">
                baupdateTime = #{record.baupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.remarks != null">
                remarks = #{record.remarks,jdbcType=VARCHAR},
            </if>
            <if test="record.projectdesc != null">
                projectDesc = #{record.projectdesc,jdbcType=VARCHAR},
            </if>
            <if test="record.isonlybio != null">
                isOnlyBio = #{record.isonlybio,jdbcType=BIT},
            </if>
        </set>
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByExample" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update cibr_task_process
        set id = #{record.id,jdbcType=VARCHAR},
        taskid = #{record.taskid,jdbcType=VARCHAR},
        creater = #{record.creater,jdbcType=VARCHAR},
        createTime = #{record.createtime,jdbcType=TIMESTAMP},
        taskstatu = #{record.taskstatu,jdbcType=VARCHAR},
        projectName = #{record.projectname,jdbcType=VARCHAR},
        dataType = #{record.datatype,jdbcType=VARCHAR},
        principal = #{record.principal,jdbcType=VARCHAR},
        sampleType = #{record.sampletype,jdbcType=VARCHAR},
        sampleInput = #{record.sampleinput,jdbcType=VARCHAR},
        inputTime = #{record.inputtime,jdbcType=TIMESTAMP},
        samplePreparation = #{record.samplepreparation,jdbcType=VARCHAR},
        spupdateTime = #{record.spupdatetime,jdbcType=TIMESTAMP},
        libraryPreparation = #{record.librarypreparation,jdbcType=VARCHAR},
        lpupdateTime = #{record.lpupdatetime,jdbcType=TIMESTAMP},
        dismountData = #{record.dismountdata,jdbcType=VARCHAR},
        ddupdateTime = #{record.ddupdatetime,jdbcType=TIMESTAMP},
        bioinformaticsAnalysis = #{record.bioinformaticsanalysis,jdbcType=VARCHAR},
        baupdateTime = #{record.baupdatetime,jdbcType=TIMESTAMP},
        remarks = #{record.remarks,jdbcType=VARCHAR},
        projectDesc = #{record.projectdesc,jdbcType=VARCHAR},
        isOnlyBio = #{record.isonlybio,jdbcType=BIT}
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByPrimaryKeySelective" parameterType="com.cibr.animal.demo.entity.CibrTaskProcess">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update cibr_task_process
        <set>
            <if test="taskid != null">
                taskid = #{taskid,jdbcType=VARCHAR},
            </if>
            <if test="creater != null">
                creater = #{creater,jdbcType=VARCHAR},
            </if>
            <if test="createtime != null">
                createTime = #{createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="taskstatu != null">
                taskstatu = #{taskstatu,jdbcType=VARCHAR},
            </if>
            <if test="projectname != null">
                projectName = #{projectname,jdbcType=VARCHAR},
            </if>
            <if test="datatype != null">
                dataType = #{datatype,jdbcType=VARCHAR},
            </if>
            <if test="principal != null">
                principal = #{principal,jdbcType=VARCHAR},
            </if>
            <if test="sampletype != null">
                sampleType = #{sampletype,jdbcType=VARCHAR},
            </if>
            <if test="sampleinput != null">
                sampleInput = #{sampleinput,jdbcType=VARCHAR},
            </if>
            <if test="inputtime != null">
                inputTime = #{inputtime,jdbcType=TIMESTAMP},
            </if>
            <if test="samplepreparation != null">
                samplePreparation = #{samplepreparation,jdbcType=VARCHAR},
            </if>
            <if test="spupdatetime != null">
                spupdateTime = #{spupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="librarypreparation != null">
                libraryPreparation = #{librarypreparation,jdbcType=VARCHAR},
            </if>
            <if test="lpupdatetime != null">
                lpupdateTime = #{lpupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="dismountdata != null">
                dismountData = #{dismountdata,jdbcType=VARCHAR},
            </if>
            <if test="ddupdatetime != null">
                ddupdateTime = #{ddupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="bioinformaticsanalysis != null">
                bioinformaticsAnalysis = #{bioinformaticsanalysis,jdbcType=VARCHAR},
            </if>
            <if test="baupdatetime != null">
                baupdateTime = #{baupdatetime,jdbcType=TIMESTAMP},
            </if>
            <if test="remarks != null">
                remarks = #{remarks,jdbcType=VARCHAR},
            </if>
            <if test="projectdesc != null">
                projectDesc = #{projectdesc,jdbcType=VARCHAR},
            </if>
            <if test="isonlybio != null">
                isOnlyBio = #{isonlybio,jdbcType=BIT},
            </if>
        </set>
        where id = #{id,jdbcType=VARCHAR}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.cibr.animal.demo.entity.CibrTaskProcess">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update cibr_task_process
        set taskid = #{taskid,jdbcType=VARCHAR},
        creater = #{creater,jdbcType=VARCHAR},
        createTime = #{createtime,jdbcType=TIMESTAMP},
        taskstatu = #{taskstatu,jdbcType=VARCHAR},
        projectName = #{projectname,jdbcType=VARCHAR},
        dataType = #{datatype,jdbcType=VARCHAR},
        principal = #{principal,jdbcType=VARCHAR},
        sampleType = #{sampletype,jdbcType=VARCHAR},
        sampleInput = #{sampleinput,jdbcType=VARCHAR},
        inputTime = #{inputtime,jdbcType=TIMESTAMP},
        samplePreparation = #{samplepreparation,jdbcType=VARCHAR},
        spupdateTime = #{spupdatetime,jdbcType=TIMESTAMP},
        libraryPreparation = #{librarypreparation,jdbcType=VARCHAR},
        lpupdateTime = #{lpupdatetime,jdbcType=TIMESTAMP},
        dismountData = #{dismountdata,jdbcType=VARCHAR},
        ddupdateTime = #{ddupdatetime,jdbcType=TIMESTAMP},
        bioinformaticsAnalysis = #{bioinformaticsanalysis,jdbcType=VARCHAR},
        baupdateTime = #{baupdatetime,jdbcType=TIMESTAMP},
        remarks = #{remarks,jdbcType=VARCHAR},
        projectDesc = #{projectdesc,jdbcType=VARCHAR},
        isOnlyBio = #{isonlybio,jdbcType=BIT}
        where id = #{id,jdbcType=VARCHAR}
    </update>

    <resultMap id="queryForListMap" type="com.cibr.animal.demo.entity.CibrTaskProcess">
        <id column="id" property="id" jdbcType="VARCHAR"/>
        <result column="taskid" property="taskid" jdbcType="VARCHAR"/>
        <result column="creater" property="creater" jdbcType="VARCHAR"/>
        <result column="createTime" property="createtime" jdbcType="TIMESTAMP"/>
        <result column="taskstatu" property="taskstatu" jdbcType="VARCHAR"/>
        <result column="projectName" property="projectname" jdbcType="VARCHAR"/>
        <result column="dataType" property="datatype" jdbcType="VARCHAR"/>
        <result column="principal" property="principal" jdbcType="VARCHAR"/>
        <result column="sampleType" property="sampletype" jdbcType="VARCHAR"/>
        <result column="sampleInput" property="sampleinput" jdbcType="VARCHAR"/>
        <result column="inputTime" property="inputtime" jdbcType="TIMESTAMP"/>
        <result column="samplePreparation" property="samplepreparation" jdbcType="VARCHAR"/>
        <result column="spupdateTime" property="spupdatetime" jdbcType="TIMESTAMP"/>
        <result column="libraryPreparation" property="librarypreparation" jdbcType="VARCHAR"/>
        <result column="lpupdateTime" property="lpupdatetime" jdbcType="TIMESTAMP"/>
        <result column="dismountData" property="dismountdata" jdbcType="VARCHAR"/>
        <result column="ddupdateTime" property="ddupdatetime" jdbcType="TIMESTAMP"/>
        <result column="bioinformaticsAnalysis" property="bioinformaticsanalysis" jdbcType="VARCHAR"/>
        <result column="baupdateTime" property="baupdatetime" jdbcType="TIMESTAMP"/>
        <result column="remarks" property="remarks" jdbcType="VARCHAR"/>
        <result column="projectDesc" property="projectdesc" jdbcType="VARCHAR"/>
        <result column="isOnlyBio" property="isonlybio" jdbcType="BIT"/>
        <collection property="emails" javaType="java.util.List" ofType="java.util.List">
            <result column="email" jdbcType="VARCHAR"/>
        </collection>
    </resultMap>
    <select id="queryAllProcess" parameterType="Map" resultMap="queryForListMap">
        select process.*,email.email as email from cibr_task_process process
        left join cibr_task_process_email email
        on email.processId=process.id
        where 1=1
        <if test="condition.id != null">
            and process.id = '${condition.id}'
        </if>
    </select>

    <select id="selectAllSampleStatu" resultType="java.util.HashMap">
        select input.sampleName     as sampleName,
               input.species        as species,
               input.tissue         as tissue,
               input.currentStatu   as inputStatu,
               make.currentStatu    as makeStatu,
               lib.currentStatu     as libStatu,
               confirm.currentstatu as confrimStatu,
               dis.currentStatu     as disStatu,
               ana.currentStatu     as anaStatu
        from cibr_task_process proce
                 left join cibr_task_process_sampleinput input on input.processId = proce.id
                 left join cibr_task_process_samplemake make on make.inputId = input.id
                 left join cibr_task_process_library lib on lib.makeId = make.id
                 left join cibr_task_process_confirm confirm on confirm.libId = lib.id
                 left join cibr_task_process_dismountdata dis on dis.makeId = confirm.id
                 left join cibr_task_process_analysis ana on ana.dismountId = dis.id
        where proce.id = '${processId}'
          and (input.currentStatu != '09' or input.currentStatu is null)
          and (make.currentStatu != '08' or make.currentStatu is null)
          and (lib.currentStatu != '08' or lib.currentStatu is null)
          and (confirm.currentStatu != '08' or confirm.currentStatu is null)
          and (dis.currentStatu != '08' or dis.currentStatu is null)
          and (ana.currentStatu != '08' or ana.currentStatu is null)
        order by sampleName;
    </select>

    <select id="findUnCommitNext" resultType="java.util.HashMap">
        select subInput.inputNum     as inputNum,
               subMake.makeNum       as makeNum,
               subLib.libNum         as libNum,
               subConfirm.confirmNum as confirmNum,
               subDis.disNum         as disNum
        from (select count(1) as inputNum
              from cibr_task_process_sampleinput input
                       left join cibr_task_process_samplemake make on make.inputId = input.id
              where make.id is null
                and input.currentStatu = '03'
                and input.processId = '${processId}') as subInput,

             (select count(1) as makeNum
              from cibr_task_process_samplemake make
                       left join cibr_task_process_library lib on make.id = lib.makeId
              where lib.id is null
                and make.currentStatu = '03'
                and make.processId = '${processId}') as subMake,

             (select count(1) as libNum
              from cibr_task_process_library lib
                       left join cibr_task_process_confirm confirm on lib.id = confirm.libId
              where confirm.id is null
                and lib.currentStatu = '03'
                and lib.processId = '${processId}') as subLib,

             (select count(1) as confirmNum
              from cibr_task_process_confirm confirm
                       left join cibr_task_process_dismountdata dis on dis.makeId = confirm.id
              where dis.id is null
                and confirm.currentStatu = '03'
                and confirm.processId = '${processId}') as subConfirm,

             (select count(1) as disNum
              from cibr_task_process_dismountdata dis
                       left join cibr_task_process_analysis ana on ana.dismountId = dis.id
              where ana.id is null
                and dis.currentStatu = '03'
                and dis.processId = '${processId}') as subDis;
    </select>

    <select id="findAllUsefulTask" resultMap="BaseResultMap">
        select proce.*
        from cibr_task_process proce,
             cibr_sys_task task
        where proce.taskid = task.id
          and task.taskstatu in ('01', '02')
          and task.tasktype = '03';
    </select>

    <select id="findbillItems" resultMap="BaseResultMap">
        select proce.*,make.*,lib.*,dis.*
        from cibr_sys_task task
                 left join cibr_task_process proce
                           on task.id = proce.taskid
                 left join cibr_task_process_samplemake make
                           on proce.id = make.processId
                               and make.createTime <![CDATA[ > ]]> '${firstDay}'
                               and make.createTime <![CDATA[ < ]]> '${lastDay}'
                               and make.currentStatu in ('03', '02')
                 left join cibr_task_process_library lib
                           on proce.id = lib.processId
                               and lib.createTime <![CDATA[ > ]]> '${firstDay}'
                               and lib.createTime <![CDATA[ < ]]> '${lastDay}'
                               and lib.currentStatu in ('02', '03')
                 left join cibr_task_process_dismountdata dis
                           on proce.id = dis.processId
                               and dis.createTime <![CDATA[ > ]]> '${firstDay}'
                               and dis.createTime <![CDATA[ < ]]> '${lastDay}'
        where task.taskstatu in ('01', '02')
          and tasktype = '03'

    </select>
</mapper>